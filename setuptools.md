# setuptools

## source distributions

`python setup.py sdist` will build a source distribution (sdist) tar.gz archive in *dist/*. The sdist contains a subset of your project's files, as specified in `setup.py`, and additional metadata files in a **.egg-info/* sub-directory.

During pip install, a wheel is built from the sdist.

Be sure to delete the **.egg-info/* dir before running `python setup.py sdist` otherwise *SOURCES.txt* will contain remnants of previous builds (eg: files that have since been deleted).

A package is a directory with a `__init.__.py` file.

### MANIFEST.in

MANIFEST.in can be used to modify the default set of files in included in the source dist. The default set includes python source files implied by the `packages` setup.py arguments. Specify package data files in MANIFEST.in to include them in the source dist.

Non-package data files can also be included, eg: files in the root directory like *requirements.txt*.

Any files included in the source dist will be available to setup.py during the install process.

See [Including files in source distributions with MANIFEST.in](https://packaging.python.org/guides/using-manifest-in/)

### Specifying files to install from a sdist

`setup.py` determines which files are installed from the source dist.

[`packages = find_packages()`](https://setuptools.readthedocs.io/en/latest/setuptools.html#id14) walks the target directory and finds any packages. You probably want to exclude tests otherwise they will be installed into site-packages, eg:

```
packages=find_packages(exclude=["tests"]),
```

This will also prevent tests from being included in the source dist.

`include_package_data = True` will install any package data files in the source dist into site-packages, inside the package dir.

`package_data` can specify additional patterns of files to install. This may be files included in the source dist by MANIFEST.in, files that aren't in MANIFEST.in and will be added to the source dist, or files that are generated by your setup script during install. You don't normally need this option if you are using *include_package_data*.

`data_files` is deprecated and does not work with wheels.

See [Including Data Files](https://setuptools.readthedocs.io/en/latest/setuptools.html#including-data-files).
