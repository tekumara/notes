# setuptools

## source distributions

`python setup.py sdist` will build a source distribution (sdist) tar.gz archive in _dist/_. The sdist contains a subset of your project's files, as specified in `setup.py`, and additional metadata files in a \*_.egg-info/_ sub-directory.

During pip install, a wheel is built from the sdist.

Be sure to delete the \*_.egg-info/_ dir before running `python setup.py sdist` otherwise _SOURCES.txt_ will contain remnants of previous builds, eg: files that have since been deleted (see [setuptools/#2347](https://github.com/pypa/setuptools/issues/2347)).

A package is a directory with a `__init.__.py` file.

### MANIFEST.in

MANIFEST.in can be used to modify the default set of files in included in the source dist. The default set includes python source files implied by the `packages` setup.py arguments. Specify package data files in MANIFEST.in to include them in the source dist.

Non-package data files can also be included, eg: files in the root directory like _requirements.txt_.

Any files included in the source dist will be available to setup.py during the install process.

See [Including files in source distributions with MANIFEST.in](https://packaging.python.org/guides/using-manifest-in/)

### Specifying files to install from a sdist

`setup.py` determines which files are installed from the source dist.

[`packages = find_packages()`](https://setuptools.readthedocs.io/en/latest/setuptools.html#id14) walks the target directory and finds any packages. You probably want to exclude tests otherwise they will be included in the source dist, and installed into site-packages, eg:

```
packages=find_packages(exclude=["tests"]),
```

`include_package_data = True` will install any package data files from the source dist into the package's dir in site-packages.

`package_data` can specify additional patterns of files to install. This may be files included in the source dist by MANIFEST.in, files that aren't in MANIFEST.in and will be added to the source dist, or files that are generated by your setup script during install. You don't normally need this option if you are using _include_package_data_.

`data_files` is deprecated and does not work with wheels.

See [Including Data Files](https://setuptools.readthedocs.io/en/latest/setuptools.html#including-data-files).

## PEP 517 support

[PEP 517](https://www.python.org/dev/peps/pep-0517/) is a new minimal interface for any build tool that wants to build sdists or wheels, and have them installed via pip. It introduces a `build-backend` configuration value to the `[build-system]` section of pyproject.toml which tells pip (or other tools like tox) how to build a sdist or wheel.

[setuptools build_meta](https://setuptools.readthedocs.io/en/latest/build_meta.html) provides a PEP 517 interface to setuptools.
